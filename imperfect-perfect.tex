\documentclass[12pt]{amsart}
\usepackage{amsmath, amssymb, amsfonts, amsthm, fullpage, stmaryrd,  url, hyperref}
\usepackage[all]{xy}

\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{cor}[theorem]{Corollary}
\newtheorem{prop}[theorem]{Proposition}

\theoremstyle{definition}
\newtheorem{defn}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}
\newtheorem{exercise}[theorem]{Exercise}
\newtheorem{hypothesis}[theorem]{Hypothesis}
\newtheorem{convention}[theorem]{Convention}
\newtheorem{remark}[theorem]{Remark}

\numberwithin{equation}{theorem}

\newcommand{\bA}{\mathbf{A}}
\newcommand{\bB}{\mathbf{B}}
\newcommand{\be}{\mathbf{e}}
\newcommand{\bv}{\mathbf{v}}

\newcommand{\CC}{\mathbb{C}}
\newcommand{\Fp}{\mathbb{F}_p}
\newcommand{\Qp}{\mathbb{Q}_p}
\newcommand{\QQ}{\mathbb{Q}}
\newcommand{\RR}{\mathbb{R}}
\newcommand{\Zp}{\mathbb{Z}_p}
\newcommand{\ZZ}{\mathbb{Z}}
\newcommand{\calF}{\mathcal{F}}
\newcommand{\calL}{\mathcal{L}}
\newcommand{\calO}{\mathcal{O}}
\newcommand{\calR}{\mathcal{R}}

\newcommand{\frakm}{\mathfrak{m}}
\newcommand{\frako}{\mathfrak{o}}

\newcommand{\dual}{\vee}

\DeclareMathOperator{\BPair}{\mathbf{BPair}}
\DeclareMathOperator{\Dfm}{\mathbf{Dfm}}
\DeclareMathOperator{\dR}{dR}
\DeclareMathOperator{\FEt}{\mathbf{F\acute{E}t}}
\DeclareMathOperator{\Frac}{Frac}
\DeclareMathOperator{\Gal}{Gal}
\DeclareMathOperator{\GL}{GL}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\Ind}{Ind}
\DeclareMathOperator{\Maxspec}{Maxspec}
\DeclareMathOperator{\perf}{perf}
\DeclareMathOperator{\PhiGamma}{\mathbf{\Phi \Gamma}}
\DeclareMathOperator{\PhiGammatilde}{\widetilde{\mathbf{\Phi \Gamma}}}
\DeclareMathOperator{\PhiMod}{\mathbf{\Phi Mod}}
\DeclareMathOperator{\Pic}{Pic}
\DeclareMathOperator{\Proj}{Proj}
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\Rep}{\mathbf{Rep}}
\DeclareMathOperator{\Res}{Res}
\DeclareMathOperator{\Spec}{Spec}
\DeclareMathOperator{\Trace}{Trace}
\DeclareMathOperator{\triv}{triv}
\DeclareMathOperator{\VB}{\mathbf{VB}}

\begin{document}

\title{On categories of $(\varphi, \Gamma)$-modules}
\author{Kiran S. Kedlaya and Jonathan Pottharst}
\thanks{Supported by NSF (grant DMS-1501214), UC San Diego (Warschawski Professorship).}
\date{\textit{unstable draft}; version of August 17, 2015}

\begin{abstract}
Let $K$ be a complete discretely valued field of mixed characteristics $(0,p)$ with perfect residue field. One of the central objects of study in $p$-adic Hodge theory is the cate\-gory of continuous representations of the absolute Galois group of $K$ on finite-dimensional $\QQ_p$-vector spaces. In recent years, it has become clear that this category can be studied more effectively by embedding it into a larger category of \emph{$(\varphi, \Gamma)$-modules}; this larger category plays a role analogous to that played by the category of vector bundles on a compact Riemann surface in the Narasimhan-Seshadri theorem on unitary representations of the fundamental group of said surface. This category turns out to have a number of distinct natural descriptions, which on one hand suggests the naturality of the construction, but on the other hand forces one to use different descriptions for different applications. We provide several of these descriptions and indicate how to translate certain key constructions, which were originally given in the context of modules over power series rings, to the more modern context of perfectoid algebras and spaces.
\end{abstract}

\maketitle

Throughout, let $p$ be a prime number and let $K$ be a \emph{$p$-adic field}, by which we mean a complete discretely valued field of mixed characteristics $(0,p)$ and perfect (but not necessarily finite) residue field. In $p$-adic Hodge theory, one studies the relationship between different cohomology theories associated to algebraic (and more recently analytic) varieties over $K$. One of these theories is \'etale cohomology with $\QQ_p$-coefficients, which naturally leads to a detailed study of continuous representations of $G_K$, the absolute Galois group of $K$, acting on finite-dimensional $\QQ_p$-vector spaces. In recent years, it has been discovered that this category embeds naturally and usefully into a larger category of \emph{$(\varphi, \Gamma)$-modules}, in much the same way that the Narasimhan-Seshadri theorem embeds the category of irreducible unitary representations of the fundamental group of a compact Riemann surface into the category of vector bundles on that surface.

One indication of the naturality of the category of $(\varphi, \Gamma)$-modules is that it can be given several equivalent descriptions. The original description emerging out of the work of Fontaine, Colmez, Berger, and others involves modules over certain rings of convergent Laurent series. In this description, a privileged role is played by the infinite extension $K_\infty$ of $K$ obtained by adjoining all $p$-power roots of unity; for example, the base rings carry an action of the Galois group of $K_\infty$ over $K$ (the eponymous $\Gamma$). However, several other descriptions of the same category can now be given in which the cyclotomic tower plays no distinguished role; these include the description by Berger in the language of $B$-pairs and the description by Fargues--Fontaine in terms of vector bundles on certain one-dimensional noetherian schemes. The latter description arises very naturally within the geometric reinterpretation of $p$-adic Hodge theory in the language of \emph{perfectoid spaces}, as in the work of Scholze \cite{scholze1, scholze2, scholze-icm} and Kedlaya-Liu \cite{kedlaya-liu1, kedlaya-liu2}.

It is thus natural to ask to what extent constructions made in the language of $(\varphi, \Gamma)$-modules, particularly those which have become relevant in Iwasawa theory, can be realized using these alternate descriptions. The purpose of this paper is to give some answers to this question, using the theory of arithmetic deformations of $(\varphi, \Gamma)$-modules developed in \cite{kpx}. The basic idea is to exchange the explicit use of the cyclotomic tower in the classical construction of $(\varphi, \Gamma)$-modules for an arithmetic deformation parametrizing cyclotomic twists. This makes it natural to consider other deformations corresponding to other $p$-adic Lie groups, including nonabelian ones.

Before concluding this introduction, we set a few running notations. Our primary model for these and other notations is \cite{kpx}.
\setcounter{theorem}{0}
\begin{hypothesis}
Throughout this paper, as in this introduction, let $K$ be a complete discretely valued field of mixed characteristics with perfect residue field $k$; we do not assume $k$ is finite (i.e., that $K$ is a finite extension of $\QQ_p$) unless explicitly specified.
Put $F = W(k)[1/p]$ for $W(k)$ the ring of Witt vectors over $k$, so that $K/F$ is a finite totally ramified extension.
Let $A$ be an affinoid algebra over $\QQ_p$ in the sense of Tate, rather than the more expansive sense of Berkovich. 
\end{hypothesis}

\section{The original category of $(\varphi, \Gamma)$-modules}
\label{sec:categories}

We begin by describing the original construction of the category of $(\varphi, \Gamma)$-modules,
into which the category of continuous representations of $G_K$ on finite-dimensional $\QQ_p$-vector spaces embeds; this is most explicit in the case $K=F$.
In preparation for our later discussion, we escalate the level of generality to accommodate representations valued in affinoid algebras.

\begin{defn}
Let $\Rep_A(G_K)$ denote the category of representations of $G_K$ (the absolute Galois group of $K$) on finite projective $A$-modules.
\end{defn}

\begin{defn}
Let $\calR^\infty_{F,A}$ be the ring of rigid analytic functions on the disc $\left| \pi \right| < 1$ over $F \widehat{\otimes}_{\QQ_p} A$. This ring is complete for the topology of uniform convergence on quasicompact subspaces (Fr\'echet topology). The ring admits a continuous endomorphism $\varphi$ defined by the formula
\begin{equation} \label{eq:phi formula}
\varphi \left( \sum_n c_n \pi^n \right) =  \sum_n \varphi_F(c_n) ((1 + \pi)^p-1)^n,
\end{equation}
where $\varphi_F$ denotes the $A$-linear extension of Witt vector Frobenius map on $F$.
The group $\Gamma = \ZZ_p^\times$ also admits a continuous action on $\calR^\infty_{F,A}$ defined by the formula
\begin{equation} \label{eq:gamma formula}
\gamma \left( \sum_n c_n \pi^n \right) = \sum_n c_n ((1 + \pi)^\gamma-1)^n \qquad (\gamma \in \Gamma)
\end{equation}
interpreting $(1 + \pi)^\gamma$ as the binomial series 
\[
(1 + \pi)^\gamma = \sum_{n=0}^\infty \frac{\gamma(\gamma-1)\cdots (\gamma-n+1)}{n!} \pi^n.
\]
Note that the actions of $\varphi$ and $\Gamma$ commute.
\end{defn}

\begin{defn}
Let $\calR_{F,A}$ be the direct limit of the rings of rigid analytic functions on the annuli $* < \left| \pi \right| < 1$ over $F \widehat{\otimes}_{\QQ_p} A$. This ring is complete for the locally convex direct limit topology induced by the topologies of uniform convergence on quasicompact subspaces (the \emph{LF topology}). We extend the actions of $\varphi$ and $\Gamma$ on $\calR^\infty_{F,A}$ to continuous actions on $\calR_{F,A}$ using the same formulas \eqref{eq:phi formula}, \eqref{eq:gamma formula}.
\end{defn}

\begin{defn}
A \emph{$(\varphi, \Gamma)$-module} over $\calR_{F,A}$ is a finite projective $\calR_{F,A}$-module $M$ equipped with commuting semilinear actions of $\varphi$ and $\Gamma$ such that the action of $\Gamma$ is continuous for the LF topology. Here by a \emph{semilinear action} of $\varphi$ on a module $M$, we mean a semilinear map $M \to M$ induced by an isomorphism $\varphi^* M \to M$; note that the isomorphism property does not ensure that $\varphi$ acts bijectively on $M$, as this already fails for $M = \calR_{F,A}$.

Let $\PhiGamma_{F,A}$ denote the category of $(\varphi, \Gamma)$-modules over $\calR_{F,A}$, viewed as an exact tensor category with rank function $\rank_F: \Phi\Gamma_{F,A} \to \ZZ$ computing the rank of the underlying $\calR_{F,A}$-module.
\end{defn}

We will establish the following result in \S\ref{sec:alternate}.
\begin{theorem} \label{T:phi gamma embedding1}
There exists a full embedding $\Rep_A(G_F) \to \PhiGamma_{F,A}$.
\end{theorem}
In the interim, let us see how this result can be used to define a corresponding category with $F$ replaced by $K$.

\begin{defn}
Let $\calR_{K,A} \in \PhiGamma_{F,A}$ be the object of rank $[F:K]$ corresponding to $\Ind^{G_F}_{G_K} \rho_{\triv}$ via Theorem~\ref{T:phi gamma embedding}. The canonical isomorphisms $\rho_{\triv} \otimes \rho_{\triv} \cong \rho_{\triv}^\dual \otimes \rho_{\triv} \cong \rho_{\triv}$
then correspond to an associative morphism $\mu_K: \calR_{K,A} \otimes \calR_{K,A} \to \calR_{K,A}$; this gives $\calR_{K,A}$ the structure of a finite flat $\calR_{F,A}$-algebra equipped with continuous actions of $\varphi$ and $\Gamma$.

Let $\PhiGamma_{K,A}$ be the category of pairs $(M, \mu)$ for which $M \in \PhiGamma_{F,A}$
and $\mu: \calR_{K,A} \otimes M \to M$ is a morphism which is associative with respect to $\mu_K$, i.e., the compositions
\begin{gather*}
\calR_{K,A} \otimes \calR_{K,A}  \otimes M \stackrel{\mu_K \otimes 1}{\to} M_K \otimes M \stackrel{\mu}{\to} M, \\
\calR_{K,A} \otimes \calR_{K,A} \otimes M \stackrel{1 \otimes \mu}{\to} \calR_{K,A} \otimes  M \stackrel{\mu}{\to} M
\end{gather*}
coincide. 
In other words, these are finite projective $\calR_{K,A}$-modules equipped with commuting semilinear continuous actions of $\varphi$ and $\Gamma$.
We again view $\PhiGamma_{K,A}$ as an exact tensor category with rank function $\rank_K = \rank_F / [K:F]$ computing the rank of the underlying $\calR_{K,A}$-module.

Let $K'$ be a finite extension of $K$. Define the induction functor
$\Ind: \PhiGamma_{K',A} \to \PhiGamma_{K,A}$ 
and the restriction functor $\Res: \PhiGamma_{K,A} \to \PhiGamma_{K',A}$
by restriction of scalars and extension of scalars, respectively (sic), along the natural map $\calR_{K,A}  \to \calR_{K',A}$.
\end{defn}

We may then formally promote Theorem~\ref{T:phi gamma embedding1} as follows.
\begin{theorem} \label{T:phi gamma embedding}
There exists a full embedding $\Rep_A(G_K) \to \PhiGamma_{K,A}$ compatible with induction and restriction on both sides.
\end{theorem}

\begin{remark} \label{R:not connected}
The description of $\PhiGamma_{K,A}$ given above is consistent with \cite{kedlaya-new-phigamma} but not with most older references. The reason is that even if $A$ is connected, the ring $\calR_{K,A}$ is in general not connected; it is more typical to replace it with one of its connected components, and to replace $\Gamma$ with the stabilizer of that component.
See Remark~\ref{R:not connected2} and \cite[Remark~2.2.12]{kedlaya-new-phigamma} for further discussion.
\end{remark}

\section{Interlude on perfectoid fields}
\label{sec:perfectoid}

In preparation for giving alternate descriptions of the category $\PhiGamma_{K,A}$, we introduce the basic theory of \emph{perfectoid fields}, which subsumes the earlier theory of \emph{norm fields} on which the classical theory of $(\varphi, \Gamma)$-modules is built; see \cite{kedlaya-new-phigamma} for more historical discussion. In the process, we must do a bit of extra work in order to accommodate the coefficient ring $A$.

\begin{defn}
Let $L$ be a field containing $K$ which is complete with respect to a nonarchimedean absolute value, denoted $\left| \bullet \right|$. Let $\frako_L$ denote the valuation subring of $L$ (i.e., elements of norm at most $1$). We say $L$ is \emph{perfectoid} if $L$ is not discretely valued and the Frobenius map on $\frako_L/(p)$ is surjective.
\end{defn}

\begin{example}  \label{exa:cyclotomic}
Let $L$ be the completion of $F(\mu_{p^\infty})$.
Then 
\begin{align*}
\frako_L &\cong (W(k)[\zeta_p, \zeta_{p^2}, \dots]/(1 + \zeta_p + \cdots + \zeta_p^{p-1}, \zeta_p - \zeta_{p^2}^p, \zeta_{p^2} - \zeta_{p^3}^p, \dots)^{\wedge}_{(p)} \\
\frako_L/(p) &\cong k[T_1, T_2, \dots]/(1+T_1 + \cdots + T_1^{p-1}, T_1 - T_2^p, T_2 - T_3^p, \dots),
\end{align*}
so $L$ is perfectoid.
\end{example}

\begin{hypothesis}
For the remainder of \S\ref{sec:perfectoid}, let $L$ be a perfectoid field.
\end{hypothesis}

\begin{theorem} \label{T:perfectoid}
Define the multiplicative monoids
\[
\frako_{L^{\flat}} = \varprojlim_{x \mapsto x^p} \frako_L, \qquad
L^{\flat} = \varprojlim_{x \mapsto x^p} L.
\]
\begin{enumerate}
\item[(a)]
There is a unique way to promote $\frako_{L^{\flat}}$ and $L^{\flat}$ to rings
in such a way that the maps $\frako_{L^{\flat}} \to L^{\flat}$ and $\frako_{L^{\flat}} \to \frako_L \to \frako_L/(p)$ become ring homomorphisms.
\item[(b)]
The ring $L^{\flat}$ is a perfect field. In addition,
the function $L^{\flat} \to L \stackrel{\left| \bullet \right|}{\to} \RR$ is an absolute value with respect to which $L^{\flat}$ is complete with valuation subring $\frako_{L^{\flat}}$.
\item[(c)]
Any finite extension of $L$, equipped with the unique extension of the absolute value, is again perfectoid.
\item[(d)]
The functor $L' \mapsto L^{\prime \flat}$ defines an equivalence of categories between finite extensions of $L$ and $L^{\flat}$, and thereby a canonical isomorphism $G_L \cong G_{L^{\flat}}$.
\end{enumerate}
\end{theorem}
\begin{proof}
See \cite[\S 1]{kedlaya-new-phigamma} and references therein.
\end{proof}

\begin{defn}
Equip $L^\flat$ with the absolute value described in 
Theorem~\ref{T:perfectoid}(b). 
For $r>0$, let $W^r(L)$ be the set of $x = \sum_{n=0}^\infty p^n [\overline{x}_n] \in W(L)$ such that $p^{-n} \left| \overline{x}_n \right|^r \to 0$ as $n \to \infty$.
By \cite[Proposition~5.1.2]{kedlaya-liu1}, this set is a subring of $W(L)$ on which 
the function $\left| \bullet \right|_r$ defined by
\[
\left| \sum_{n=0}^\infty p^n [\overline{x}_n]  \right|_r = \max_n \{p^{-n} \left| \overline{x}_n \right|^r\}
\]
is a complete multiplicative norm; this norm extends multiplicatively to $W^r(L)[p^{-1}]$.
For $0 < s \leq r$, let $\tilde{\calR}^{[s,r]}_L$ be the completion of $W^r(L)[p^{-1}]$
with respect to $\max\{\left| \bullet \right|_s, \left| \bullet \right|_r\}$,
and put $\tilde{\calR}^{[s,r]}_{L,A} = \tilde{\calR}^{[s,r]}_L \widehat{\otimes}_{\QQ_p} A$.
Let $\tilde{\calR}^r_{L,A}$ be the inverse limit of the $\tilde{\calR}^{[s,r]}_{L,A}$ over all $s \in (0,r)$, equipped with the Fr\'echet topology. Let $\tilde{\calR}_{L,A}$ be the direct  limit of the $\tilde{\calR}^r_{L,A}$ over all $r>0$, equipped with the locally convex direct limit topology (LF topology).
\end{defn}

\begin{lemma} \label{L:Witt module descend}
Let $L'$ be the completion of a (possibly infinite) Galois algebraic extension of $L$ with Galois group $G$. Then for $0 < s \leq r$, the functor from finite projective $\tilde{\calR}^{[s,r]}_{L,A}$-modules to finite projective
$\tilde{\calR}^{[s,r]}_{L',A}$-modules equipped with continuous semilinear $G$-actions is an equivalence of categories.
\end{lemma}
\begin{proof}
We first check full faithfulness.
Let $M,N$ be two finite projective $\tilde{\calR}^{[s,r]}_{L,A}$-modules
and put $P = M^\dual \otimes N$. Let $M',N',P'$ be the respective base extensions of $M,N,P$ to $\tilde{\calR}^{[s,r]}_{L',A}$, equipped with the induced $G$-actions. 
We then have maps
\[
P \cong \Hom(M,N) \to \Hom_G(M',N') \cong (P')^G,
\]
so to check full faithfulness we need only check that $P \to (P')^G$ is an isomorphism.
By writing $P$ as a direct summand of a finite free module, this reduces immediately to checking that 
\[
(\tilde{\calR}^{[s,r]}_{L',A})^G = \tilde{\calR}^{[s,r]}_{L,A}.
\]
For $A = \QQ_p$, this equality is a consequence of \cite[Theorem~9.2.15]{kedlaya-liu1};
we may deduce the general case from this by constructing a Schauder basis for $A$ over $\QQ_p$, as in \cite[Lemma~2.2.9(b)]{kedlaya-liu1}.

We next check essential surjectivity.
Let $M'$ be a finite projective $\tilde{\calR}^{[s,r]}_{L',A}$-module equipped with a continuous semilinear $G$-action. The $G$-action may then be described in terms of an isomorphism $\iota$ between the two base extensions of $M$ to $\tilde{\calR}^{[s,r]}_{L',A} \widehat{\otimes}_{\tilde{\calR}^{[s,r]}_{L,A}} \tilde{\calR}^{[s,r]}_{L',A}$;
note that $\iota$ obeys a cocycle condition expressing the compatibility of the $G$-action with composition in the group $G$. Specifying $\iota$ involves only finitely elements of the ring $\tilde{\calR}^{[s,r]}_{L',A}$, so it may be realized over some subfield of $L'$ which is the completion of an algebraic extension of $L$ of at most countable degree; we may thus assume that $L'$ itself has this form. From the proof of \cite[Theorem~9.2.15]{kedlaya-liu1}, we see that $\tilde{\calR}^{[s,r]}_{L',\QQ_p}$ splits in the category of Banach modules over $\tilde{\calR}^{[s,r]}_{L,\QQ_p}$; by tensoring with $A$, we see that
$\tilde{\calR}^{[s,r]}_{L',A}$ splits in the category of Banach modules over $\tilde{\calR}^{[s,r]}_{L,A}$.
Tensoring $M'$ with this splitting yields a finite projective $\tilde{\calR}^{[s,r]}_{L,A}$-module $M$; the base extension of $\iota$ along the splitting yields an isomorphism
$M \otimes_{\tilde{\calR}^{[s,r]}_{L,A}} \tilde{\calR}^{[s,r]}_{L',A} \cong M'$
of modules over $\tilde{\calR}^{[s,r]}_{L',A}$. The cocycle condition on $\iota$ ensures that this isomorphism is compatible with the $G$-actions on both sides.
This proves the claim.
\end{proof}

\begin{remark} \label{R:glueing lemma}
It is shown in \cite[Theorem~3.2]{kedlaya-noetherian} that the rings $\tilde{\calR}^{[s,r]}_{L,\QQ_p}$ are \emph{really strongly noetherian}, that is, any affinoid algebra over such a ring (even in the sense of Berkovich) is noetherian. In particular, the rings $\tilde{\calR}^{[s,r]}_{L,A}$ are really strongly noetherian; consequently, they satisfy the analogues of Tate's acyclicity theorem
\cite[Theorem~7.14, Theorem~8.3]{kedlaya-adic}
and Kiehl's theorem on the characterization of coherent sheaves
\cite[Theorem~8.16]{kedlaya-adic}.
\end{remark}

\begin{defn}
Denote by $\varphi$ the following maps induced by the Witt vector Frobenius map on $W(L)$:
\[
W^r(L) \to W^{r/p}(L), \qquad
\tilde{\calR}^{[s,r]}_{L,A} \to \tilde{\calR}^{[s/p,r/p]}_{L,A},
\qquad
\tilde{\calR}^{r}_{L,A} \to \tilde{\calR}^{r/p}_{L,A}, \qquad
\tilde{\calR}_{L,A} \to \tilde{\calR}_{L,A}.
\]
A \emph{$\varphi$-module} over $\tilde{\calR}_{L,A}$ is a finite projective $\tilde{\calR}_{L,A}$-module equipped with a semilinear $\varphi$-action;
note that unlike for $(\varphi, \Gamma)$-modules, this action is necessarily bijective.
Let $\PhiMod_{L,A}$ be the category of $\varphi$-modules over $\tilde{\calR}_{L,A}$.
\end{defn}

\begin{lemma} \label{L:phi invariants}
For any $r,s$ with $0 < s \leq r/p$, we have
\[
\ker(\varphi-1: \tilde{\calR}^{[s,r]}_{L,A} \to \tilde{\calR}^{[s,r/p]}_{L,A}) = A.
\]
In particular, we have $\tilde{\calR}_{L,A}^{\varphi} = A$.
\end{lemma}
\begin{proof}
Again using \cite[Lemma~2.2.9(b)]{kedlaya-liu1}, we reduce to the case $A = \QQ_p$,
for which see \cite[Corollary~5.2.4]{kedlaya-liu1}. 
\end{proof}

\begin{lemma} \label{L:phi modules bundles}
For any $r,s$ with $0 < s \leq r/p$, the following categories are canonically equivalent:
\begin{enumerate}
\item[(a)]
the category $\PhiMod_{L,A}$;
\item[(b)]
the category of finite projective $\tilde{\calR}^r_{L,A}$-modules equipped with isomorphisms 
\[
\varphi^* M  \cong 
M \otimes_{\tilde{\calR}^r_{L,A}} \tilde{\calR}^{r/p}_{L,A};
\]
\item[(c)]
the category of finite projective $\tilde{\calR}^{[s,r]}_{L,A}$-modules
$M$ equipped with isomorphisms 
\[
\varphi^* M \otimes_{\tilde{\calR}^{[s/p,r/p]}_{L,A}} \tilde{\calR}^{[s,r/p]}_{L,A} \cong 
M \otimes_{\tilde{\calR}^{[s,r]}_{L,A}} \tilde{\calR}^{[s,r/p]}_{L,A}.
\]
\end{enumerate}
\end{lemma}
\begin{proof}
The functor from (b) to (a) is base extension from $\tilde{\calR}^r_{L,A}$ to $\tilde{\calR}_{L,A}$. The fact that it is an equivalence is an easy consequence of the bijectivity of the action of $\varphi$ on objects of $\PhiMod_{L,A}$.

The functor from (b) to (c) is base extension from $\tilde{\calR}^r_{L,A}$ to $\tilde{\calR}^{[s,r]}_{L,A}$. To prove that it is an equivalence, note first that (c) is formally equivalent to the same category with $r,s$ replaced by $r/p,s/p$. Using 
	Remark~\ref{R:glueing lemma}, we see additionally that (c) is equivalent to the same category no matter what values of $r,s$ are used. We may then check the equivalence between (b) and (c) by imitating the proof of \cite[Proposition~2.2.7]{kpx}.
\end{proof}

\begin{defn}
For $M \in \PhiMod_{L,A}$ and $n \in \ZZ$, define the twist $M(n)$ to have the same underlying module as $M$, but with the action of $\varphi$ multiplied by $p^{-n}$.
\end{defn}

\begin{lemma} \label{L:enough phi-invariants}
For $M \in \PhiMod_{L,A}$, there exists $n_0 \in \ZZ$ such that for all $n \geq n_0$,
$\varphi-1$ is surjective on $M(n)$ and its kernel generates $M(n)$ as a $\tilde{\calR}_{L,A}$-module.
\end{lemma}
\begin{proof}
The case $A = \QQ_p$ is treated in \cite[Proposition~6.2.2, Proposition~6.2.4]{kedlaya-liu1}; the same proofs carry over to the general case.
\end{proof}

\begin{theorem} \label{T:perfect embedding}
Let $\CC_L$ be a completed algebraic closure of $L$. Then the formula 
\[
V \mapsto (V \otimes_A \tilde{\calR}_{\CC_L, A})^{G_L}
\]
defines a full embedding $\Rep_A(G_L) \to \PhiMod_{L,A}$.
(We will discuss the essential image of this functor in \S\ref{sec:slopes}.)
\end{theorem}
\begin{proof}
The target of this functor is in $\PhiMod_{L,A}$ thanks to 
Lemma~\ref{L:Witt module descend} and Lemma~\ref{L:phi modules bundles}.
If $V \in \Rep_A(G_L)$ corresponds to $M \in \PhiMod_{L,A}$, 
then by Lemma~\ref{L:Witt module descend} there is a canonical $(\varphi, G_L)$-equivariant isomorphism
\[
V \otimes_A \tilde{\calR}_{\CC_L, A} \cong M \otimes_{\tilde{\calR}_{L,A}} \tilde{\calR}_{\CC_L,A}.
\]
By Lemma~\ref{L:phi invariants}, we may take $\varphi$-invariants to obtain an isomorphism
\[
V \cong (M \otimes_{\tilde{\calR}_{L,A}} \tilde{\calR}_{\CC_L,A})^{\varphi};
\]
from this we see that the functor $V \mapsto M$ is fully faithful.
\end{proof}

\begin{defn}
There is a canonical surjection $\theta: W(\frako_{L^\flat}) \to \frako_L$ whose kernel is a principal ideal; see
\cite[\S 1]{kedlaya-new-phigamma} for the construction.
By \cite[Lemma~5.5.5]{kedlaya-liu1}, for any interval $[s,r]$ containing 1,
this map extends to a surjection
$\theta: \tilde{\calR}^{[s,r]}_{L,A} \to L \widehat{\otimes}_{\QQ_p} A$.
\end{defn}

\begin{defn}
Define the graded ring
\[
P_{L,A} = \bigoplus_{n=0}^\infty P_{L,A,n}, \qquad P_{L,A,n} = \tilde{\calR}_{L,A}^{\varphi=p^n},
\]
and put $X_{L,A} = \Proj(P_{L,A})$.
Let $\VB_{L,A}$ be the category of quasicoherent locally finite free sheaves (or for short \emph{vector bundles}) on $X_{L,A}$.
\end{defn}

\begin{example}
For any $x$ in the maximal ideal of $\frako_{L^{\flat}}$, the sum $\sum_{n \in \ZZ} p^{-n} [\overline{x}^{p^n}]$
converges to a nonzero element of $P_{L,\QQ_p,1}$.
\end{example}

\begin{defn}
The map $\theta$ defines a closed immersion $\Spec(L \widehat{\otimes}_{\QQ_p} A) \to X_{L,A}$; let $Z_{L,A}$ be the resulting closed subscheme of $X_{L,A}$, and let $U_{L,A}$ be the complement of $Z_{L,A}$ in $X_{L,A}$.
By \cite[Lemma~8.9.3]{kedlaya-liu1}, $U_{L,A}$ is affine and $Z_{L,A}$ is contained in an open affine subspace of $X_{L,A}$; consequently, we may complete $X_{L,A}$ along $Z_{L,A}$ to get another affine scheme $\widehat{Z}_{L,A}$. Let $\bB_{e,L,A}, \bB^+_{\dR,L,A}, \bB_{\dR,L,A}$ be the respective coordinate rings of the affine schemes 
\[
U_{L,A}, \widehat{Z}_{L,A}, U_{L,A} \times_{\Proj(P_{L,A})} \widehat{Z}_{L,A}.
\]
Let $\BPair_{L,A}$ be the category of glueing data for finite projective modules with respect to the diagram
\[
\bB_{e,L,A} \rightarrow \bB_{\dR,L,A} \leftarrow \bB_{\dR,L,A}^+.
\]
\end{defn}

\begin{theorem} \label{T:perfect equivalence}
The categories $\PhiMod_{L,A}$, $\BPair_{L,A}$, and $\VB_{L,A}$ are canonically equivalent.
\end{theorem}
\begin{proof}
The categories $\BPair_{L,A}$ and $\VB_{L,A}$ are equivalent by the Beauville-Laszlo theorem
\cite{beauville-laszlo} applied to the coordinate ring of some open affine subscheme of $X_{L,A}$ containing $Z_{L,A}$.
We construct the functor from $\VB_{L,A}$ to $\PhiMod_{L,A}$ as 
as in \cite[Definition~6.3.10]{kedlaya-liu1}.
Choose $\calF \in \VB_{L,A}$.
For each $f \in P_{L,A}$ which is homogeneous of positive degree,
we have an open affine subscheme of $X_{L,A}$ with coordinate ring $\tilde{\calR}_{L,A}[f^{-1}]^\varphi$; we may thus take sections of $\calF$ to obtain a finite projective module over  this ring. By base extension, we obtain a finite projective module over $\tilde{\calR}_{L,A}[f^{-1}]$ equipped with a semilinear $\varphi$-action. By \cite[Lemma~6.3.7]{kedlaya-liu1}, the possible values of $f$ generate the unit ideal in $\tilde{\calR}_{L,A}$, so we may glue on $\Spec(\tilde{\calR}_{L,A})$ to obtain an object of $\PhiMod_{L,A}$.

In the other direction, for $M \in \PhiMod_{L,A}$, we may view
$\bigoplus_{n=0}^\infty M(n)^{\varphi}$ as a graded module over $P_{L,A}$, and then form the associated quasicoherent sheaf, which we must show is a vector bundle.
Using Lemma~\ref{L:enough phi-invariants}, this follows as in the proof of \cite[Theorem~6.3.12]{kedlaya-liu1}.
\end{proof}

\section{Slopes of \texorpdfstring{$\varphi$}{phi}-modules}
\label{sec:slopes}

We now introduce the important concept of \emph{slopes} of $\varphi$-modules. The basic theory is motivated by the corresponding theory of slopes of vector bundles on algebraic varieties (especially curves). In the process, we identify the essential image of the embedding functor of Theorem~\ref{T:perfect embedding} in case $A$ is a field.

\begin{hypothesis}
Throughout \S\ref{sec:slopes}, let $L$ be a perfectoid field.
\end{hypothesis}

\begin{lemma} \label{L:units}
Suppose that $A$ is a field.
Then $\tilde{\calR}_{L,A}^{\times} = \bigcup_{r>0} (W^r(L)[p^{-1}] \otimes_{\QQ_p} A)$.
\end{lemma}
\begin{proof}
See \cite[Corollary~4.2.5]{kedlaya-liu1}.
\end{proof}

\begin{defn}
Suppose that $A$ is a field. Let $v(A)$ denote the valuation group of $A$, normalized so that $v(\QQ_p) = \ZZ$. By Lemma~\ref{L:units},
we obtain a canonical homomorphism $\tilde{\calR}_{L,A}^{\times} \to v(A)$
and thus a morphism $\deg: \Pic(X_{L,A}) \to v(A)$ called the \emph{degree} map.
As usual, for $\calF \in \VB_{L,A}$ of arbitrary rank, we define the \emph{degree} of $\calF$ as the degree of its determinant $\wedge^{\rank(\calF)} \calF$, and (if $\calF \neq 0$) the \emph{slope} of $\calF$ as the ratio $\mu(\calF) = \deg(\calF)/\rank(\calF)$.
We may transfer these definitions to $\PhiMod_{L,A}$ using Theorem~\ref{T:perfect equivalence}.
\end{defn}

\begin{lemma} \label{L:no subinvariants}
For each positive integer $n$, we have
$\ker(p^n \varphi-1: \tilde{\calR}^{[s,r]}_{L,A} \to \tilde{\calR}^{[s,r/p]}_{L,A}) = 0$. \end{lemma}
\begin{proof}
Again using \cite[Lemma~2.2.9(b)]{kedlaya-liu1}, we reduce to the case $A = \QQ_p$.
Suppose that $x$ belongs to the kernel. The equality
\[
\left| x \right|_{t} = \left| \varphi(x) \right|_{t/p} = \left| p^{-n} x \right|_{t/p} 
= p^n \left| x \right|_{t/p}
\]
holds initially for $t \in [s, r]$, then by induction for all $t \in (0, r]$.
It follows that $\left| x \right|_t$ remains bounded as $t \to 0^+$, so by 
\cite[Lemma~4.2.4]{kedlaya-liu1} we have $x \in \tilde{\calR}_{L,A}^{\times}$.
However, by Lemma~\ref{L:units}, this means that $x$ has a well-defined $p$-adic valuation, which is the same as the valuation of $\varphi(x)$; we must then have $n=0$, contradiction.
\end{proof}

\begin{defn}
Suppose that $A$ is a field. For $\calF \in \VB_{L,A}$ nonzero, we say $\calF$ is \emph{stable} (resp. \emph{semistable}) if there does not exist a nonzero proper subobject $\calF'$ of $\calF$ such that $\mu(\calF') \geq \mu(\calF)$ (resp.\ $\mu(\calF') > \mu(\calF)$). 
For example, by Lemma~\ref{L:no subinvariants}, any rank 1 bundle is semistable.
We say $\calF$ is \emph{\'etale} if it is semistable of degree 0.

For general $\calF \in \VB_{L,A}$, Lemma~\ref{L:no subinvariants} implies that the set of slopes of nonzero subbundles of $\calF$ is bounded above; consequently, there exists a canonical filtration
\[
0 = \calF_0 \subset \calF_1 \subset \cdots \subset \calF_m = \calF
\]
such that the successive quotients $\calF_i/\calF_{i-1}$ are stable and
$\mu(\calF_1/\calF_0) > \cdots > \mu(\calF_m/\calF_{m-1})$. 
This filtration is called the \emph{Harder-Narasimhan filtration}, or \emph{HN filtration}, of $\calF$. Note that $\calF_1$ is the maximal subbundle of $\calF$ achieving the maximal slope among nonzero subbundles of $\calF$. 
The \emph{HN polygon} of $\calF$ is the Newton polygon of length $\rank(\calF)$ in which the slope $\mu(\calF_i/\calF_{i-1})$ occurs with multiplicity $\rank(\calF_i)$; the total height of this polygon is $\deg(\calF)$.
\end{defn}

\begin{theorem} \label{T:etale properties}
Suppose that $A$ is a field.
\begin{enumerate}
\item[(a)] The tensor product of any two semistable bundles in $\VB_{L,A}$ is again semistable. In particular, the tensor product of two \'etale bundles is again \'etale.
\item[(b)] The essential image of the full embedding $\Rep_A(G_L) \to \PhiMod_{L,A}$
in Theorem~\ref{T:perfect embedding} consists precisely of the \'etale bundles.
\end{enumerate}
\end{theorem}

\begin{remark}
For general $A$, we may define the degree, rank, slope, and HN polygon of $\calF \in \VB_{L,A}$ as functions on $\Maxspec(A)$. Unfortunately, these functions do not extend well to the Berkovich space associated to $A$, because the theory of slopes behaves poorly when the degree map does not take discrete values.

In addition, if $A$ is not a field, then the subcategory of $\PhiMod_{L,A}$ consisting of pointwise \'etale objects may be strictly larger than the essential image of $\Rep_A(G_L)$; in fact, this already occurs for objects of rank 1, as noted in \cite[Remarque 4.2.10]{berger-colmez}.
For further discussion, see \cite{kedlaya-liu-families}.
\end{remark}


\begin{lemma} \label{L:bounded slopes}
For $\calF \in \VB_{L,A}$, the HN polygon of $\calF$, as a function on $\Maxspec(A)$, is bounded above and below, and its height is constant on connected components of $A$.
\end{lemma}
\begin{proof}
Using Lemma~\ref{L:enough phi-invariants},
we see that $\calF$ admits a surjective morphism from $\calO(n)^{\oplus d}$ for some integers $n,d$. It follows that the HN polygon of $\calF$ has no slopes less than $n$.
The same argument applies to the dual bundle shows that the HN polygon of $\calF$ also has slopes which are uniformly bounded above.
\end{proof}
 

\section{From \texorpdfstring{$\varphi$}{phi}-modules to \texorpdfstring{$(\varphi, \Gamma)$}{(phi, Gamma)}-modules}
\label{sec:alternate}

We now use $\varphi$-modules to give some alternate descriptions of the category $\PhiGamma_{K,A}$. In the process, we will establish Theorem~\ref{T:phi gamma embedding}; this will illustrate that cyclotomic extensions play a special role in the original construction, but this role can ultimately be supplanted by other towers.

\begin{defn}
Let $L$ be the completion of $K(\mu_{p^\infty})$; it is a perfectoid field by
Example~\ref{exa:cyclotomic} and Theorem~\ref{T:perfectoid}.
Let $\PhiGammatilde_{K,A}$ denote the category of objects of $\PhiMod_{L,A}$ equipped with continuous semilinear $\Gamma_K$-actions, where $\Gamma_K = \Gal(K(\mu_{p^\infty})/K)$.
\end{defn}

We now complete the discussion initiated in Remark~\ref{R:not connected}.
\begin{remark} \label{R:not connected2}
Via the cyclotomic character, we may identify $\Gamma_F$ with $\Gamma$ and $\Gamma_K$ with an open subgroup of $\Gamma$. Put $\tilde{\calR}_{K,A} = \Ind_{\Gamma_K}^\Gamma \tilde{\calR}_{L,A}$; this is a direct sum of copies of $\tilde{\calR}_{L,A}$ indexed by the connected components of $K \otimes_F F(\mu_{p^\infty})$. 
We may then identify objects of $\PhiGammatilde_{K,A}$ with finite projective
$\tilde{\calR}_{K,A}$-modules equipped with continuous semilinear $\Gamma$-actions.
\end{remark}

\begin{defn} \label{D:untilde to tilde map}
Choose a coherent sequence $\zeta_p, \zeta_{p^2}, \dots$ of $p$-power roots of unity
and let $\epsilon$ be the element $(1, \zeta_p, \zeta_{p^2}, \dots) \in L^{\flat}$.
Then the map $W(k) \llbracket \pi \rrbracket \to W(L)$ taking $\pi$ to $[\epsilon]-1$
is $(\varphi, \Gamma)$-equivariant; it thus extends to a $(\varphi, \Gamma)$-equivariant map $\calR_{K,A} \to \tilde{\calR}_{K,A}$.
\end{defn}


\begin{theorem} \label{T:tilde no tilde}
The categories $\PhiGamma_{K,A}$ and $\PhiGammatilde_{K,A}$ are equivalent via base extension along $\calR_{K,A} \to \tilde{\calR}_{K,A}$.
\end{theorem}
\begin{proof}
The case $A = \QQ_p$ is treated in \cite{kedlaya-liu2}; the general case may be treated similarly.
\end{proof}

As a corollary, we may now establish Theorem~\ref{T:phi gamma embedding1}.
\begin{proof}[Proof of Theorem~\ref{T:phi gamma embedding1}]
By Theorem~\ref{T:tilde no tilde}, it suffices to exhibit a full embedding
$\Rep_A(G_K) \to \PhiGammatilde_{K,A}$. We obtain this embedding from
Theorem~\ref{T:perfect embedding} by adding $\Gamma_K$-descent data.
\end{proof}

\begin{remark}
Note that the embedding in Theorem~\ref{T:phi gamma embedding1} is not quite canonical: it depends on the coherent sequence of $p$-power roots of unity chosen in Definition~\ref{D:untilde to tilde map}.
\end{remark}

\begin{remark}
Theorem~\ref{T:tilde no tilde} includes the Cherbonnier-Colmez theorem on the overconvergence of $p$-adic representations \cite{cherbonnier-colmez}. However, the proof we have in mind is closer in spirit to the one in \cite[\S 2]{kedlaya-new-phigamma}.
\end{remark}

\begin{remark} \label{R:general field}
Let $L$ be any perfectoid field which is the completion of a Galois algebraic extension of $K$ with Galois group $G$.
By Lemma~\ref{L:Witt module descend}, we may also characterize $\PhiGammatilde_{K,A}$ 
as the category of objects of $\PhiMod_{L,A}$ equipped with continuous semilinear $G$-actions. For example, we may take $L = \CC_K$ to be a completed algebraic closure of $K$;
in this case, using Theorem~\ref{T:perfect equivalence} we get a description of
$\PhiGamma_{K,A}$ as objects of $\BPair_{\CC_L,A}$ equipped with continuous semilinear $G_K$-actions. In the case $A = \QQ_p$, this description is due to Berger \cite{berger-b-pairs}.
\end{remark}

\section{Cohomology of $(\varphi, \Gamma)$-modules}

We now upgrade the previous discussion to relate Galois cohomology to $(\varphi, \Gamma)$-modules. This time, we start directly with the perfectoid framework.
\begin{defn}
Let $L$ be a perfectoid field.
For $\tilde{M} \in \PhiMod_{L,A}$, let $H^0_{\varphi}(\tilde{M}), H^1_{\varphi}(\tilde{M})$ be the kernel and cokernel of $\varphi-1$ on $\tilde{M}$, and put $H^i_{\varphi}(\tilde{M}) = 0$ for $i>0$.
\end{defn}

\begin{lemma} \label{L:truncate cohomology}
Choose $r,s$ with $0 < s \leq r/p$. Let $\tilde{M}, \tilde{M}^r, \tilde{M}^{[s,r]}$
be corresponding objects in the categories (a),(b),(c) of Lemma~\ref{L:phi modules bundles}.
Then the complexes
\begin{gather*}
0 \to \tilde{M} \stackrel{\varphi-1}{\to} \tilde{M} \to 0 \\
0 \to \tilde{M}^r \stackrel{\varphi-1}{\to} \tilde{M}^r \otimes_{\tilde{\calR}^r_{L,A}} \tilde{\calR}^{r/p}_{L,A} \to 0 \\
0 \to \tilde{M}^{[s,r]} \stackrel{\varphi-1}{\to} \tilde{M}^{[s,r]} \otimes_{\tilde{\calR}^{[s,r]}_{L,A}} \tilde{\calR}^{[s,r/p]}_{L,A} \to 0
\end{gather*}
are quasi-isomorphic via the base extension functors.
\end{lemma}
\begin{proof}
The proof of \cite[Proposition~6.3.19]{kedlaya-liu1} in the case $A = \QQ_p$ adapts without change.
\end{proof}

\begin{lemma} \label{L:perfect descend cohomology}
Let $L$ be a perfectoid field.
Let $L'$ be the completion of a (possibly infinite) Galois algebraic extension of $L$ with Galois group $G$. Then for $0 < s \leq r$, for $M$ a finite projective $\tilde{\calR}^{[s,r]}_{L,A}$-module, $M$ is acyclic for continuous $G$-cohomology; that is, for $C(\Gamma,M)$ the complex of continuous $\Gamma$-cochains with values in $M$,
the morphism $M \to C(\Gamma,M)$ is a quasi-isomorphism.
\end{lemma}
\begin{proof}
Using a Schauder basis for $A$ over $\QQ_p$, we may reduce to the case $A = \QQ_p$,
for which we may apply \cite[Theorem~8.2.22]{kedlaya-liu1}.
\end{proof}

\begin{theorem}
Let $L$ be a perfectoid field.
For $\tilde{M} \in \PhiMod_{L,A}$, $\calF \in \VB_{L,A}$ corresponding as in
Theorem~\ref{T:perfect equivalence}, we have canonical identifications
$H^i_{\varphi}(\tilde{M}) \cong H^i(X_{L,A}, \calF)$ for all $i \geq 0$.
\end{theorem}
\begin{proof}
Since $X_{L,A}$ is separated and is covered by two open affine subschemes, we have 
$H^i(X_{L,A}, \calF) = 0$ for $i \geq 2$. The identification for $i=0,1$ arises directly
from Theorem~\ref{T:perfect equivalence}, using in the case $i=1$ of the cohomology groups as Yoneda extension groups.
\end{proof}

\begin{defn}
For $M \in \PhiGamma_{K,A}$, 
let $C(\Gamma,M)$ denote the complex of continuous $\Gamma$-cochains with values in $M$.
Let $H^i_{\varphi, \Gamma}(M)$ be the total cohomology of the double complex
\[
C_{\varphi, \Gamma}(M): 0 \to C(\Gamma,M) \stackrel{\varphi-1}{\to} C(\Gamma,M) \to 0.
\]
We make an analogous definition for $\tilde{M} \in \PhiGammatilde_{K,A}$.
\end{defn}

\begin{theorem} \label{T:compare phi Gamma cohomology}
The morphisms $H^i_{\varphi, \Gamma}(M) \to H^i_{\varphi, \Gamma}(\tilde{M})$ are isomorphisms for all $i$.
\end{theorem}
\begin{proof}
The proof given in \cite{kedlaya-liu2} for the case $A = \QQ_p$ adapts without change.
\end{proof}

\begin{theorem} \label{T:coherence cohomology}
For $M \in \PhiGamma_{K,A}$, we have the following.
\begin{enumerate}
\item[(a)] The groups $H^i_{\varphi, \Gamma}(M)$ are finite $A$-modules for $i=0,1,2$, and vanish for $i>2$.
\item[(b)] For any morphism $A \to B$ of affinoid algebras over $\QQ_p$, the canonical morphism
\[
C_{\varphi, \Gamma}(M) \otimes^{\mathbf{L}}_A B
\to C_{\varphi, \Gamma}(M \otimes_{\calR_{K,A}} \calR_{K,B})
\]
is a quasi-isomorphism.
\end{enumerate}
\end{theorem}
\begin{proof}
See \cite[Theorem~4.4.2, Theorem~4.4.3]{kpx}.
\end{proof}

\begin{remark}
By Lemma~\ref{L:truncate cohomology} and Lemma~\ref{L:perfect descend cohomology},
we may compute the groups $H^i_{\varphi, \Gamma}(\tilde{M})$
using another extension of $K$ as in Remark~\ref{R:general field}. In particular, it is in some sense an intrinsic invariant of $\tilde{M}$. However, while Theorem~\ref{T:compare phi Gamma cohomology} and Theorem~\ref{T:coherence cohomology} together assert that the groups $H^i_{\varphi, \Gamma}(\tilde{M})$
are finite $A$-modules,
the proof of this statement depends crucially on the interpretation of $\tilde{M}$ in terms of the category $\PhiGamma_{K,A}$. 

To illustrate this, we sketch a quick proof of Theorem~\ref{T:coherence cohomology}(a) which is somewhat simpler than the one given in \cite{kpx} (although in the same spirit).
By formal arguments (Shapiro's lemma), we may reduce to the case $K = F$.
Choose $r,s,r',s'$ with $0 < s < s' \leq r'/p \leq r/p$. 
Let $\calR^{[s,r]}_{F,A}$ be the ring of rigid analytic functions 
on the disc $p^{-rp/(p-1)} < \left| \pi \right| < p^{-sp/(p-1)}$. For $r$ sufficiently small, we may (by analogy with Lemma~\ref{L:phi modules bundles} and Lemma~\ref{L:truncate cohomology}) realize $M$ as a finite projective $\calR^{[s,r]}_{F,A}$-module $M^{[s,r]}$
equipped with an isomorphism 
\[
\varphi^* M^{[s,r]} \otimes_{\calR^{[s/p,r/p]}_{F,A}} \calR^{[s,r/p]}_{F,A} 
\cong M^{[s,r]} \otimes_{\calR^{[s,r]}_{F,A}} \calR^{[s,r/p]}_{F,A}
\]
and compute $H^i_{\varphi, \Gamma}(M)$ as the cohomology of the total complex
\[
0 \to C(\Gamma, M^{[s,r]}) \stackrel{\varphi-1}{\to} C(\Gamma, M^{[s,r/p]}) \to 0.
\]
We then have a diagram
\[
\xymatrix{
0 \ar[r] & C(\Gamma, M^{[s,r]}) \ar[d] \ar^{\varphi-1}[r] & C(\Gamma, M^{[s,r/p]}) \ar[r] \ar[d] & 0 \\
0 \ar[r] & C(\Gamma, M^{[s',r']}) \ar^{\varphi-1}[r] & C(\Gamma, M^{[s',r'/p]}) \ar[r] & 0
}
\]
in which the vertical arrows define a quasi-isomorphism of the total complexes associated to the rows. However, each vertical arrow is composed of maps which are  \emph{completely continuous} morphisms of Banach spaces over $A$, i.e., uniform limits of morphisms of finite rank. By the Cartan-Serre-Schwartz lemma (as in \cite[Satz~2.6]{kiehl-finiteness}), we deduce that the cohomology groups of the total complexes are finite $A$-modules.
(By contrast, the maps $\tilde{\calR}^{[s,r]}_{L,A} \to \tilde{\calR}^{[s',r']}_{L,A}$ are not completely continuous.)
\end{remark}

\section{Iwasawa cohomology and the cyclotomic deformation}

The goal of this section is to describe various constructions in the classical language of $(\varphi, \Gamma)$-modules which play a role in Iwasawa theory, then translate these into the other categories so as to isolate the role of the cyclotomic extension.

\begin{defn}
Define the map $\psi: \calR_K \to \calR_K$ as the reduced trace of $\varphi$; by definition, it is a left inverse of $\varphi$. For any $(\varphi, \Gamma)$-module $M$,
we may likewise take the reduced trace of the action of $\varphi$ on $M$ to obtain an action of $\psi$ on $M$, which is again a left inverse of $\varphi$. Consequently, we obtain an exact sequence
\begin{equation} \label{eq:psi sequence}
0 \to M^{\varphi=1} \to M^{\psi=1} \stackrel{\varphi-1}{\longrightarrow} M^{\psi=0}.
\end{equation}
The pairing $\{, \}$ satisfies
\begin{equation} \label{eq:pairing phi psi}
\{\varphi(x), y\} = \{x, \psi(y)\} \qquad (x \in M, y \in M^*).
\end{equation}
\end{defn}

The following is \cite[Proposition~3.3.2(1)]{kpx}.
\begin{prop} \label{P:psi finite}
For any $(\varphi, \Gamma)$-module $M$,
the $A$-module $M/(\psi-1)$ is finitely generated.
\end{prop}
\begin{cor}
The pairing $\{-,-\}: M \times M^* \to A$ induces an isomorphism
\[
M^{\varphi=1} \cong \Hom_A(M^*/(\psi-1), A).
\]
In particular, $M^{\varphi=1}$ is a finite $A$-module.
\end{cor}
\begin{proof}
The nondegeneracy of the pairing defines an injection $M \to \Hom_A(M^*, A)$;
the identity \eqref{eq:pairing phi psi} shows that the image of this map is contained in
$\Hom_A(M^*/(\psi-1), A)$. In the other direction, note that Proposition~\ref{P:psi finite} and the open mapping theorem imply that $(\psi-1)M^*$ is a closed subspace of $M^*$
\textbf{for what topology??}
\end{proof}

\begin{prop}[after Chenevier]
Let $M$ be a $(\varphi, \Gamma)$-module.
For any $\gamma \in \Gamma_K$ of infinite order, the map $\gamma-1$ on $M^{\psi=0}$ is bijective.
\end{prop}

One of our goals is to express the terms of \eqref{eq:psi sequence} in terms of constructions that translate to other descriptions of the category of $(\varphi, \Gamma)$-modules. These translations must remove any mention of $\psi$, as this operator has no analogue in the other descriptions.

\begin{prop}
define psi-cohomology and equivalence as in \cite[Definition~2.3.3]{kpx}.
\end{prop}

\section{The cyclotomic deformation}

We define the \emph{cyclotomic deformation} of a $(\varphi, \Gamma)$-module following 
\cite[Definition~4.4.7]{kpx}, but using more geometric language.
\begin{defn}
Let $\ZZ_p \llbracket \Gamma_K \rrbracket$ be the completed group algebra. We may then apply Berthelot's generic fiber construction to view this ring as the collection of bounded-by-1 rigid analytic functions on a certain one-dimensional quasi-Stein space $X$ over $\QQ_p$.
The action of $\ZZ_p \llbracket \Gamma_K \rrbracket$ on $\calO(X)$ by (left) multiplication
defines a a canonical one-dimensional Galois representation on $X$; let $\Dfm$ be the corresponding $(\varphi, \Gamma_K)$-module.

For $M$ a $(\varphi, \Gamma)$-module, 
\end{defn}

\begin{remark}
Beware that for $\tilde{M} \in \PhiGammatilde_{K,A}$, the action map
$\tilde{M} \times \Gamma \to \tilde{M}$ is continuous, but does not define a bounded map
$\tilde{M} \widehat{\otimes}_{\QQ_p} \Lambda \to \tilde{M}$.
\end{remark}


The following is \cite[Theorem~4.4.8]{kpx}.
\begin{theorem}
Let $M$ be a $(\varphi, \Gamma_K)$-module over $\calR_{K,A}$. Then...
\end{theorem}


\textbf{compare $M^{\psi=0}$ to the boundary of the cyclotomic deformation}

\appendix

\section{Torsion $(\varphi, \Gamma)$-modules}

As an aside, we resolve a minor open question in the classical theory of $(\varphi, \Gamma)$-modules.

\begin{lemma} \label{L:modification slope bound}
Assume that $A$ is a field. 
Choose $s \in \QQ$.
Let $M$ be a projective $(\varphi, \Gamma)$-module whose slopes are all at least $s$.
Let $T$ be a $t$-torsion $(\varphi, \Gamma)$-module of degree $d$.
Then for any short exact sequence $0 \to N \to M \to T \to 0$,
the slopes of $N$ are all at least $s-d$.
\end{lemma}
\begin{proof}
Let $P$ be the final quotient in the slope filtration of $N$ and put $N' = \ker(N \to P)$.
By pushing out, we form the exact sequence 
\[
0 \to P \to M/N' \to T \to 0.
\]
Put $r = \rank(P)$, so that $\rank(M/N') = r$ and  $\deg(M/N') = r \mu(P)  + d$, yielding  $\mu(M/N') = \mu(P) + d/r$. Since $M/N'$ is a quotient of $M$, we must have
 $\mu(M/N') \geq s$; since $r \in \{1,\dots,n\}$, we deduce the desired result.
\end{proof}



\textbf{define $t$-torsion, $t$-coherent $(\varphi, \Gamma)$-modules}

\begin{lemma} \label{L:lift topological action}
Let $R$ be a Banach algebra over $\QQ_p$. Let $\Gamma$ be a pro-$p$-cyclic group topologically generated by $\gamma$ acting continuously on $R$. Let $F$ be a finite free $R$-module with basis $\be_1,\dots,\be_d$. Fix a semilinear action of $\gamma$ on $F$ with the property that the matrix of action $A$ of $\gamma$ on $\be_1,\dots,\be_d$ satisfies $\left| A-1 \right| < 1$.
Then the action of $\gamma$ on $F$ extends to a continuous action of $\Gamma$.
\end{lemma}
\begin{proof}
Choose $c$ such that $\left| A-1 \right| < c < 1$.
For $n$ a nonnegative integer, let $A_n$ be the matrix of action of $\gamma^{p^n}$
on $\be_1,\dots,\be_d$. It suffices to prove that for all sufficiently large $n$ we have
$\left| A_n-1 \right| \leq \max\{c^2, p^{-1}c\}$, as then iterating the argument (with $\Gamma$ replaced by the closure of the subgroup generated by $\gamma^{p^n}$ for some large $n$) will show that the action of $\gamma^{\ZZ}$ extends continuously to $\Gamma$.

By hypothesis, the action of $\Gamma$ on $R$ is continuous. Consequently, there exists 
$n_0 \geq 0$ such that for all $n \geq n_0+1$, we have $\left| (\gamma^{p^n}-1)(A) \right| \leq c^2$. For such $n$, modulo elements of $R$ of norm at most $\max\{c^2,p^{-1}c\}$ we have
\[
A_{n} = A \gamma(A) \cdots \gamma^{p^{n}-1}(A) \equiv 1 + \sum_{i=0}^{p^{n}-1} (\gamma^i(A)-1) \equiv 1 + p\sum_{j=0}^{p^{n-1}-1} (\gamma^{j}(A)-1) \equiv 1.
\]
This proves the claim.
\end{proof}

\textbf{warning: the twist in the following lemma is the phi-twist. Need to fix notation.}
\begin{lemma} \label{L:lift torsion action}
Let $M$ be a $t$-torsion $(\varphi, \Gamma)$-module. Then there exists
a projective $(\varphi, \Gamma)$-module $F$ such that for each $n \in \ZZ$, there exists a surjection $F(n) \to M$ of $(\varphi, \Gamma)$-modules.
\end{lemma}
\begin{proof}
Represent $M$ as a finitely generated $\widehat{K}_{\infty} \widehat{\otimes}_{\Qp} A$-module equipped with a continuous semilinear $\Gamma_K$-action.
We first make an argument emulating \cite[Lemma~1.5.2]{kedlaya-liu1}.
Choose module generators $\bv_1,\dots,\bv_d$ of $M$,
let $F_0$ be the free module over $\tilde{\calR}^{[p^{-1/2}, p^{1/2}]}_{K,A}$ on the
generators $\be_1,\dots,\be_d$, and form the surjection $F_0 \to M$ taking $\be_i$ to $\bv_i$. For $\gamma \in \Gamma_K$, there exist $d \times d$ matrices
$B_\gamma, C_\gamma$ over $\tilde{\calR}^{[p^{-1/2}, p^{1/2}]}_{K,A}$ such that
$\gamma(\bv_j) = \sum_i B_{\gamma,ij} \bv_i$, $\gamma^{-1}(\bv_j) = \sum_i \gamma^{-1}(C_{\gamma,ij}) \bv_i$. Equip $F_1 = F_0 \oplus F_0$ with the action of $\gamma$ defined on the standard basis by the block matrix
\[
\begin{pmatrix} B_\gamma & B_\gamma C_\gamma -1 \\ 1 & C_\gamma
\end{pmatrix};
\]
then this action of $\gamma$ is invertible and the map $F_1 \to M$ given by projecting onto the first copy of $F_0$ and then onto $M$ is $\gamma$-equivariant.

Recall that by hypothesis, the action of $\Gamma_K$ on $M$ is continuous. Consequently,
for $\gamma$ sufficiently small, the matrices $B_\gamma, C_\gamma$ can be chosen so that
$\left| B_\gamma-1 \right|, \left| C_\gamma -1 \right| < 1$.
By Lemma~\ref{L:lift topological action}, the action of $\gamma$ on $F_1$ extends to an open subgroup $\Gamma'$ of $\Gamma_K$, and the map $F_1 \to M$ is necessarily also $\Gamma'$-equivariant. Put $F = \Ind_{\Gamma'}^{\Gamma_K} F_1$; then $F_1 \to M$ corresponds to a $\Gamma$-equivariant surjection $F \to M$. 

We may choose any matrix of action for $\varphi$ (with coefficients in $\tilde{\calR}^{[p^{1/2}, p^{1/2}]}_{K,A}$)
to promote $F$ to a projective $(\varphi, \Gamma)$-module equipped with an equivariant surjection $F \to M$. Given one such choice, we may then multiply the matrix of action by powers of $p$ to obtain maps $F(n) \to M$ for $n \in \ZZ$. 
\end{proof}

\begin{theorem} \label{T:t-coherent lift}
Every $t$-coherent $(\varphi, \Gamma)$-module admits a surjective morphism from some projective $(\varphi, \Gamma)$-module.
\end{theorem}
\begin{proof}
Let $M$ be a $t$-coherent $(\varphi, \Gamma)$-module. Let $T$ be the $t$-torsion submodule of $M$; by hypothesis, $F = M/T$ is a projective $(\varphi, \Gamma)$-module.
By Lemma~\ref{L:lift torsion action}, there exists a projective $(\varphi, \Gamma)$-module $F'$ such that  for each $n \in \ZZ$, there exists a surjection $F'(n) \to T$ of $(\varphi, \Gamma)$-modules. Let $K_n$ be the kernel of one such surjection. 

We claim that for $n$ sufficiently large, $H^2_{\varphi, \Gamma}(F^\dual \otimes K_n) = 0$.
To check this, first apply Lemma~\ref{L:bounded slopes} twice to produce values $s_0, s_1$ such that $F$ has all slopes at most $s_0$ while $F'$ has all slopes at least $s_1$.
Then apply Lemma~\ref{L:modification slope bound} to see that for any
$n \geq s_0-s_1 + \deg(T)$,
$F^\dual \otimes K_n$ has everywhere positive slopes. 
By \textbf{coherence}, for such $n$ we have $H^2_{\varphi, \Gamma}(F^\dual \otimes K_n) = 0$; consequently, $H^1_{\varphi, \Gamma}(F^\dual \otimes F'(n)) \to H^1_{\varphi, \Gamma}(F^\dual \otimes T)$ is surjective. In particular, there exists a commutative diagram
\[
\xymatrix{
0 \ar[r] & F'(n) \ar[r] \ar[d] & M' \ar[r] \ar[d] & F \ar[r] \ar@{=}[d] & 0 \\
0 \ar[r] & T \ar[r] & M \ar[r] & F \ar[r] & 0
}
\]
with exact rows; by the five lemma, $M' \to M$ is surjective, proving the claim.
\end{proof}

\begin{remark}
Theorem~\ref{T:t-coherent lift} resolves a question raised implicitly in
\cite{kedlaya-bordeaux} by showing that in the terminology of that paper,
every generalized $(\varphi, \Gamma)$-module is a $B$-quotient.
\end{remark}

\begin{remark}
One of the more delicate parts of \cite{kpx} is the proof of \textbf{coherence}. 
We would like to indicate here a simpler proof using the Cartan-Serre method (i.e., the Schwartz lemma).

...
\end{remark}



\begin{thebibliography}{99}

\bibitem{beauville-laszlo}
A. Beauville and Y. Laszlo, Un lemme de descente, \textit{C. R. Acad. Sci. Paris} \textbf{320} (1995), 335--340.

\bibitem{berger-b-pairs}
L. Berger, Construction de $(\phi, \Gamma)$-modules: repr\'esentations $p$-adiques et $B$-paires, \textit{Algebra Number Theory} \textbf{2} (2008), 91--120.

\bibitem{berger-colmez}
L. Berger and P. Colmez, Familles de repr\'esentations de de Rham et monodromie $p$-adique, \textit{Ast\'erisque} \textbf{319} (2008), 303--337.

\bibitem{chenevier}
G. Chenevier, Sur la densit\'e des repr\'esentations cristallines de
$\Gal(\overline{\QQ}_p/\QQ_p)$, \textit{Math. Ann.} \textbf{355} (2013), 1469--1525.

\bibitem{cherbonnier-colmez}
F. Cherbonnier and P. Colmez, Repr\'esentations $p$-adiques surconvergentes,
\textit{Invent. Math.} \textbf{133} (1998), 581--611.

\bibitem{kedlaya-bordeaux}
K.S. Kedlaya, Some new directions in $p$-adic Hodge theory, \textit{J. Th\'eorie Nombres Bordeaux} \textbf{21} (2009), 285--300.

\bibitem{kedlaya-new-phigamma}
K.S. Kedlaya, New methods for $(\varphi, \Gamma)$-modules,
to appear in \textit{Res. Math. Sci.}

\bibitem{kedlaya-noetherian}
K.S. Kedlaya, Noetherian properties of Fargues-Fontaine curves,
\textit{Int. Math. Res. Notices} (2015), article ID rnv227. 

\bibitem{kedlaya-adic}
K.S. Kedlaya, Reified valuations and adic spaces, arXiv:1309.0574v4 (2015).

\bibitem{kedlaya-liu-families}
K.S. Kedlaya and R. Liu, On families of $(\varphi, \Gamma)$-modules,
\textit{Algebra Number Theory} \textbf{4} (2010), 943--967.

\bibitem{kedlaya-liu1}
K.S. Kedlaya and R. Liu, Relative $p$-adic Hodge theory: Foundations,
\textit{Ast\'erisque} \textbf{371} (2015), 239 pages. 

\bibitem{kedlaya-liu2}
K.S. Kedlaya and R. Liu, Relative $p$-adic Hodge theory II: Imperfect period rings,
in preparation.

\bibitem{kpx}
K.S. Kedlaya, J. Pottharst, and L. Xiao, Cohomology of arithmetic families of $(\varphi, \Gamma)$-modules, \textit{J. Amer. Math. Soc.}  \textbf{27} (2014), 1043--1115. 

\bibitem{kiehl-finiteness}
R. Kiehl, Der Endlichkeitsatz f\"ur eigentliche Abbildungen
in der nichtarchimedischen Funktionentheorie,
\textit{Invent. Math.} \textbf{2} (1967), 191--214.

\bibitem{scholze1}
P. Scholze, Perfectoid spaces, \textit{Publ. Math. IH\'ES} \textbf{116} (2012), 245--313.

\bibitem{scholze2}
P. Scholze, $p$-adic Hodge theory for rigid analytic varieties, \textit{Forum Math. Pi} \textbf{1} (2013).

\bibitem{scholze-icm}
P. Scholze, Perfectoid spaces and their applications, in \textit{Proceedings of the
International Congress of Mathematicians, Seoul, 2014}.

\end{thebibliography}

\end{document}
